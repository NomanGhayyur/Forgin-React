"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(e){for(var t,a=1,r=arguments.length;a<r;a++)for(var n in t=arguments[a])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)},__createBinding=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&("get"in n?t.__esModule:!n.writable&&!n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){e[r=void 0===r?a:r]=t[a]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&__createBinding(t,e,a);return __setModuleDefault(t,e),t},__rest=this&&this.__rest||function(e,t){var a={};for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(a[n[r]]=e[n[r]]);return a},__read=this&&this.__read||function(e,t){var a="function"==typeof Symbol&&e[Symbol.iterator];if(!a)return e;var r,n,l=a.call(e),c=[];try{for(;(void 0===t||0<t--)&&!(r=l.next()).done;)c.push(r.value)}catch(e){n={error:e}}finally{try{r&&!r.done&&(a=l.return)&&a.call(l)}finally{if(n)throw n.error}}return c},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},react_1=(Object.defineProperty(exports,"__esModule",{value:!0}),__importStar(require("react"))),input_style_1=__importDefault(require("./input.style")),__1=require(".."),Button_1=__importDefault(require("../Button")),Input=react_1.default.forwardRef(function(e,t){var a=e.label,r=e.type,n=e.htmlType,l=e.labelClass,c=e.className,u=__rest(e,["label","type","htmlType","labelClass","className"]),o=(0,react_1.useId)(),s=__read((0,react_1.useState)("password"!=n),2),i=s[0],_=s[1],s=__read((0,react_1.useState)(""),2),f=s[0],d=s[1],p=(0,react_1.useRef)(null),s=(0,input_style_1.default)({errorText:f,hasPlaceholder:!!u.placeholder});return(0,react_1.useEffect)(function(){d(e.error||"")},[e.error]),(0,react_1.useEffect)(function(){var e,t,a;if(p.current)return e=p.current,t=function(e){return d(null==(e=e.detail)?void 0:e.error)},e.addEventListener("input",a=function(){return d("")}),e.addEventListener("field-error",t),function(){e.removeEventListener("input",a),e.removeEventListener("field-error",t)}},[]),(0,react_1.useImperativeHandle)(t,function(){return Object.assign({},p.current,{setError:d,set value(e){p.current&&(p.current.value=e)},get value(){var e;return(null==(e=p.current)?void 0:e.value)||""}})},[]),"floating"==r?react_1.default.createElement("div",null,react_1.default.createElement("label",{className:"".concat((0,__1.css)(s.floatInput__label)," ").concat(l||""),htmlFor:o},react_1.default.createElement("input",__assign({},u,{ref:p,className:"".concat((0,__1.css)(s.floatInput__input)," ").concat(c||""),type:i&&"password"==n?"text":n,id:o,"data-name":u.name,placeholder:u.placeholder||a})),react_1.default.createElement("span",null,a),"password"==n&&react_1.default.createElement(Button_1.default,{iconName:i?"eye-fill":"eye-slash-fill",onClick:function(){return _(function(e){return!e})}})),f?react_1.default.createElement("span",{className:"invalid-feedback"},f):null):"floating-textarea"==r?react_1.default.createElement("div",null,react_1.default.createElement("label",{className:"".concat((0,__1.css)(s.floatInput__label)," ").concat(l||""),htmlFor:o},react_1.default.createElement("textarea",__assign({},u,{ref:p,className:"".concat((0,__1.css)(s.floatInput__input)," ").concat(c||""),id:o,"data-name":u.name,placeholder:u.placeholder||a})),react_1.default.createElement("span",null,a)),f?react_1.default.createElement("span",{className:"invalid-feedback"},f):null):"textarea"==r?react_1.default.createElement("div",{className:"form-group ".concat(f?"has-success":"")},a?react_1.default.createElement("label",{htmlFor:o,className:"form-label ".concat(l||"")},a):null,react_1.default.createElement("textarea",__assign({},u,{id:o,"data-name":u.name,ref:p,className:"form-control ".concat(f?"is-invalid":""," ").concat((0,__1.css)(s.input__input)," ").concat(c||"")})),f?react_1.default.createElement("span",{className:"invalid-feedback"},f):null):react_1.default.createElement("div",{className:"form-group ".concat(f?"has-success":"")},a?react_1.default.createElement("label",{htmlFor:o,className:"form-label ".concat(l||"")},a):null,react_1.default.createElement("input",__assign({},u,{id:o,"data-name":u.name,ref:p,type:i&&"password"==n?"text":n,className:"form-control ".concat(f?"is-invalid":""," ").concat((0,__1.css)(s.input__input)," ").concat(c||"")})),"password"==n&&react_1.default.createElement(Button_1.default,{iconName:i?"eye-fill":"eye-slash-fill",onClick:function(){return _(function(e){return!e})}}),f?react_1.default.createElement("span",{className:"invalid-feedback"},f):null)});Input.defaultProps={className:"",htmlType:"text",placeholder:""},Input.displayName="Input",exports.default=Input;