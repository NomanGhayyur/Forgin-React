"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(e,t,r,a){void 0===a&&(a=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&("get"in n?t.__esModule:!n.writable&&!n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,a,n)}:function(e,t,r,a){e[a=void 0===a?r:a]=t[r]}),__setModuleDefault=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),__importStar=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&__createBinding(t,e,r);return __setModuleDefault(t,e),t},__read=this&&this.__read||function(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var a,n,o=r.call(e),i=[];try{for(;(void 0===t||0<t--)&&!(a=o.next()).done;)i.push(a.value)}catch(e){n={error:e}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i},__importDefault=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},react_1=(Object.defineProperty(exports,"__esModule",{value:!0}),__importStar(require("react"))),react_dom_1=__importDefault(require("react-dom")),__1=require(".."),aphrodite_1=require("../../helpers/aphrodite"),Modal_styles_1=__importDefault(require("./Modal.styles")),Modal=react_1.default.forwardRef(function(t,r){var a=t.wrapper,e=t.children,n=t.className,o=__read((0,react_1.useState)(!!t.show),2),i=o[0],l=o[1],c=(0,Modal_styles_1.default)({show:i,animationDirection:t.animationDirection}),u=(0,react_1.useRef)(),d=((0,react_1.useImperativeHandle)(r,function(){return{showModal:l}},[]),(0,react_1.useEffect)(function(){l(!!t.show)},[t.show]),(0,react_1.useCallback)(function(e){e.target!==e.currentTarget||t.onBackdrop&&t.onBackdrop(e,r)||l(!1)},[t,r]));return(0,react_1.useEffect)(function(){var e,t=document.body;return u.current=u.current||document.createElement(a||"div"),null!=(e=u.current)&&e.setAttribute("class",(0,aphrodite_1.css)(c.backdropContainer,i?c.backdropShow:null)),null!=(e=u.current)&&e.addEventListener("click",d),i&&u.current&&t.appendChild(u.current),function(){var e;null!=(e=u.current)&&e.removeEventListener("click",d),t.hasChildNodes()&&u.current&&t.contains(u.current)&&t.removeChild(u.current)}},[i,a,d,c]),!i&&t.showChildren?react_1.default.createElement(react_1.default.Fragment,null,e):u.current&&i?react_dom_1.default.createPortal(react_1.default.createElement("div",{style:t.style,id:t.id,className:"".concat((0,aphrodite_1.css)(c.modalInnerContainer)," ").concat(n||"").trim()},e,t.onDismiss?react_1.default.createElement(__1.Icon,{name:"x",width:"1.8rem",height:"1.8rem",onClick:t.onDismiss,style:c.buttonDismiss}):null),u.current):null});Modal.defaultProps={className:"",showChildren:!1,animationDirection:"top"},Modal.displayName="Modal",exports.default=Modal;